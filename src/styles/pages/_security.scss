@use "sass:map";
$bu-theme-colors: (
    "legalfile": $blue-60,
    "outlaw": #6232BC,
    "leaddocket": #3D8681,
);

.security {
    section:not(.file-separator) {
        padding: 3rem 0;
        .info {
            @include make-row();
            margin-bottom: 4rem;
        }
        .subheadline, .cta {
            @include make-col-ready;
            @include make-col(12);
        }
    }
    .hero {
        background-color: $brown-10;
        @include media-breakpoint-up(md) {
            background-image: url('https://filevine-marketing-production-media.s3.us-west-2.amazonaws.com/media/images/security/security-banner.png');
            background-repeat: no-repeat;
            padding: 9rem 0 7.5rem 0;
            background-position: 145% 70px;
            background-size: 500px;
        }
        @include media-breakpoint-up(lg) {
            background-position: 105% 0;
            background-size: 530px;
            min-height: 600px;
        }
        @include media-breakpoint-up(xl) {
            background-position: 95% 0;
            background-size: 554px;
        }
    }
    .body {
        .summary {
            margin-bottom: 2rem;
            @include make-col-ready;
            @include make-col-auto();
            @include media-breakpoint-up(lg) {
                margin-bottom: 5rem;
            }
        }
    }
    .business-units {
        display: flex;
        flex-wrap: wrap;
        justify-content: space-evenly;
        @include media-breakpoint-up(xl) {
            margin: 0 3rem;
        }
    }
    .bu {
        height: 150px;
        display: flex;
        align-items: center;
        justify-items: center;
        margin-bottom: 2rem;
        transition: all .25s;
        @include media-breakpoint-up(lg) {
            margin-bottom: 3rem;
        }
        
        &:hover {
            box-shadow: $shadow-900;
        }
        & img, svg {
            width: 100%;
            max-width: 170px;
            margin: 2rem 4rem;
        }
        & .svg-one-color {
            fill: $white;
        }
        &-legalfile {
            background-color: map.get($bu-theme-colors, "legalfile");
            & svg {
                margin: 1.75rem 4.5rem 2.25rem 3.5rem;
            }
        }
        &-outlaw {
            background-color: map.get($bu-theme-colors, "outlaw");
        }
        &-leaddocket {
            background-color: map.get($bu-theme-colors, "leaddocket");
            & svg {
                max-width: 200px;
                margin: 2rem calc(4rem - 15px); //15px from both sides, since width is 30px longer than the other logos
            }
        }
    }

    .summary {
        font-size: 1.125rem;
        line-height: 1.625rem;
    }
    .subheadline {
        font-size: 1.25rem;
        margin-bottom: 2rem;
    }
    .cta {
        .text-link {
            font-weight: bold;
        }
    }
    .compliance-row {
        @include make-row();    
        @include row-cols(1); 
        @include media-breakpoint-up(md) {
            @include row-cols(2); 
        }
        &:not(.future){
            padding-bottom: 3rem;
            margin-bottom: 5rem;
            border-bottom: 1px solid $gray-50;
        }
    }
    .compliance {
        @include make-col-ready;
        @include media-breakpoint-up(lg) {
            padding-right: 15%;
        }
        margin-bottom: 3rem;

        &-logo {
            display: flex;
            aspect-ratio: 7 / 1;
        }
        &-cta a {
            font-weight: bold;
        }
        & .title {
            font-weight: bold;
        }
        & img {
            max-width: 250px;
            max-height: 70px;
            margin-bottom: 1rem;
            align-self: center;
        }
        & .description {
            margin-bottom: 1.25rem;
        }
    }
    .item-highlight-row{
        @include make-row();    
        @include row-cols(1); 
        @include media-breakpoint-up(lg) {
            @include row-cols(3); 
        }
        margin-bottom: 3rem;
    }
    .item-highlight{
        @include make-col-ready();
        margin-bottom: 3rem;
        img {
            width: 100%;
            max-width: 50px;
            margin-bottom: 1rem;
        }
    }
    & h3:not(.cta-headline) {
        font-size: var(--article-h3);
    }
    .certifications-headline {
        text-align: center;
        margin-bottom: 3rem;
    }
    .team-certifications{
        width:100%;
        @include media-breakpoint-up(lg) {
            width:75%;
        }
        margin: 0 auto 5rem auto;
        .carousel-item.active, .carousel-item-next, .carousel-item-prev {
            display: flex;
            flex-direction: row;
            justify-content: center;
        }
        .carousel-control-prev svg, .carousel-control-next svg {
            fill: $gray-50 !important;
            width: 20px;
        }
        .cert-logo {
            width: 100%;
            max-width: 50px;
            @include media-breakpoint-up(lg) {
                max-width: 82px;
            }
        }
        .carousel-indicators {
            bottom: -80px;
            li {
                height: 6px;
                width: 6px;
                border: 2px solid $cool-gray-80;
                background-color: $white;
                border-radius: 50%;
            }
            & .active {
                background-color: $cool-gray-80;
            }
        }
    }
    #why-legalfile {
        .info { 
            margin-bottom: 0;
        }
        .item-highlight {
            margin-bottom: 4rem;
        }
    }    
    #faq {
        .info {
            display: flex;
            justify-content: center;
        }
        .body {
            @include make-col-ready;
            @include media-breakpoint-up(md) {
                @include make-col(9);
            }
        }
    }
    .accordion {
        .card {
            border: none;
            border-bottom: 1px solid $gray-30;
            border-radius: 0;
            &-header {
                border: none;
                background: none;
                padding-left: 4px;
                padding-right: 4px;
            }
            
            &-body {
                padding-left: 0;
                padding-right: 5rem;
                font-size: .875rem;
            }

            & button {
                border-radius: 0;
                padding:0;
                display: flex;
                justify-content: space-between;
                text-decoration: none;   
                & .question {
                    font-weight: bold;
                    color: $black;
                    width: 90%;
                }
                .arrow-dropdown img {
                    width: 5px;
                    height: 10px;
                    margin-top: -1px;
                }
                &:not([aria-expanded="false"]) .question {
                    color: $blue-60; 
                }
                &[aria-expanded="true"]:not(.collapsed) {
                    .arrow-dropdown img {
                        transition: all .15s;
                        transform: rotate(90deg);
                    }
                }
                &.collapsed {
                    .arrow-dropdown img {
                        transition: all .15s;
                        transform: rotate(0deg);
                    }
                }
            }
        }
    }
}